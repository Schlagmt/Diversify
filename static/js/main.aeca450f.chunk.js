(this.webpackJsonpdiversify=this.webpackJsonpdiversify||[]).push([[0],{48:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);a(36);var s=a(2),r=a.n(s),n=a(30),i=a.n(n),c=a(17),o=a(35),l=a(9),j=a(3),u=a(4),h=a(5),m=a(6),d=a(51),p=a(22),b=a(50),O=a(52),y=a(21),x=a(20),f=a(0),g=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).toggleNavbar=s.toggleNavbar.bind(Object(p.a)(s)),s.state={collapsed:!0},s}return Object(u.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return Object(f.jsx)("header",{children:Object(f.jsx)(b.a,{light:!0,children:Object(f.jsx)(d.a,{className:"d-flex justify-content-center",children:Object(f.jsx)(O.a,{tag:c.b,to:"/",children:Object(f.jsx)(y.a,{icon:x.d,style:{color:"white"}})})})})})}}]),a}(s.Component);g.displayName=g.name;var v=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(g,{}),Object(f.jsx)(d.a,{children:this.props.children})]})}}]),a}(s.Component);v.displayName=v.name;var k=a(54),T=a(11),S=a.n(T),A=a(53),N=a(12),D=a.n(N),C=a(13),B=a.n(C),R=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"getTopGenres",value:function(){var t=[];return B.a.forEach(this.props.data,(function(e){B.a.forEach(e.genres,(function(e){var a=B.a.filter(t,(function(t){return t[0]===e}));if(0===a.length)t.push([e,1]);else{var s=B.a.indexOf(t,a[0]);t[s][1]=t[s][1]+1}}))})),(t=B.a.orderBy(t,(function(t){return t[1]}),"desc").slice(0,this.props.limit)).map((function(t){return Object(f.jsx)(A.a,{xs:"auto",style:{paddingLeft:"0em",paddingRight:"0em",textAlign:"center"},children:Object(f.jsx)(O.a,{tag:c.b,to:"/Genre?genre="+t[0],children:Object(f.jsx)("div",{className:"bg-genre",children:B.a.upperCase(t[0])})})},B.a.upperCase(t[0]))}))}},{key:"render",value:function(){return this.props.data?Object(f.jsx)(k.a,{className:"d-flex justify-content-center",children:this.getTopGenres()}):Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),_=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),(t=e.call(this)).state={userData:null,genreData:null},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({userData:this.loadUserData().responseJSON}),this.setState({genreData:this.loadGenreData().responseJSON})}},{key:"loadUserData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"loadGenreData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/artists?time_range=long_term&limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"render",value:function(){return this.state.userData?Object(f.jsx)(d.a,{children:Object(f.jsxs)(k.a,{style:{width:"100%"},children:[Object(f.jsx)(A.a,{lg:"4",style:{textAlign:"center"},children:Object(f.jsx)("img",{src:this.state.userData.images[0].url,alt:"user",style:{borderRadius:"50%"}})}),Object(f.jsxs)(A.a,{lg:"8",children:[Object(f.jsx)(k.a,{children:Object(f.jsx)(A.a,{style:{textAlign:"center"},children:Object(f.jsx)("h1",{children:this.state.userData.display_name})})}),Object(f.jsx)(R,{data:this.state.genreData.items,limit:30})]})]})}):Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),E=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),(t=e.call(this)).state={recentlyPlayed:null},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({recentlyPlayed:this.loadData().responseJSON})}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/player/recently-played",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"render",value:function(){return this.state.recentlyPlayed?Object(f.jsxs)(A.a,{style:{marginBottom:"2em"},children:[Object(f.jsx)("img",{className:"bg-image",src:this.state.recentlyPlayed.items[0].track.album.images[0].url,alt:this.state.recentlyPlayed.items[0].track.album.name,style:{aspectRatio:"1/1",height:"100%",width:"100%"}}),Object(f.jsx)("div",{className:"bg-text",children:Object(f.jsx)(O.a,{tag:c.b,to:"/RecentlyPlayed",children:"HISTORY"})})]}):Object(f.jsx)("div",{})}}]),a}(s.Component),M=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),(t=e.call(this)).state={topArtists:null},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({topArtists:this.loadData().responseJSON})}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/artists?time_range=short_term&limit=1",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"render",value:function(){return this.state.topArtists?Object(f.jsxs)(A.a,{style:{marginBottom:"2em"},children:[Object(f.jsx)("img",{className:"bg-image",src:this.state.topArtists.items[0].images[0].url,alt:this.state.topArtists.items[0].name,style:{aspectRatio:"1/1",height:"100%",width:"100%"}}),Object(f.jsx)("div",{className:"bg-text",children:Object(f.jsx)(O.a,{tag:c.b,to:"/TopArtists",children:"TOP ARTISTS"})})]}):Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),L=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),(t=e.call(this)).state={topTracks:null},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({topTracks:this.loadData().responseJSON})}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=1",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"render",value:function(){return this.state.topTracks?Object(f.jsxs)(A.a,{style:{marginBottom:"2em"},children:[Object(f.jsx)("img",{className:"bg-image",src:this.state.topTracks.items[0].album.images[0].url,alt:this.state.topTracks.items[0].album.name,style:{aspectRatio:"1/1",height:"100%",width:"100%"}}),Object(f.jsx)("div",{className:"bg-text",children:Object(f.jsx)(O.a,{tag:c.b,to:"/TopTracks",children:"TOP TRACKS"})})]}):Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),G=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(f.jsxs)(A.a,{children:[Object(f.jsx)("img",{className:"bg-image",src:"recommend.jpg",alt:"recommend",style:{aspectRatio:"3/1",height:"100%",width:"100%"}}),Object(f.jsx)("div",{className:"bg-text",children:Object(f.jsx)(O.a,{tag:c.b,to:"/Recommendation",children:"RECOMMENDATIONS"})})]})}}]),a}(s.Component),w=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),t=e.call(this),window.history.pushState("","",document.location.origin+document.location.pathname),t}return Object(u.a)(a,[{key:"render",value:function(){return Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{style:{marginBottom:"3em",marginTop:"1em"},children:Object(f.jsx)(_,{})}),Object(f.jsxs)(k.a,{md:"3",xs:"1",children:[Object(f.jsx)(M,{}),Object(f.jsx)(L,{}),Object(f.jsx)(E,{})]}),Object(f.jsx)(k.a,{style:{marginBottom:"2em"},children:Object(f.jsx)(G,{})})]})}}]),a}(s.Component),z=a(57),J=a(58),I=a(55),P=a(56),U=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"getEmoji",value:function(t){return t>=90?Object(f.jsx)(y.a,{icon:x.c,style:{color:"red"}}):t>=80?Object(f.jsx)(y.a,{icon:x.c,style:{color:"orange"}}):t>=70?Object(f.jsx)(y.a,{icon:x.c,style:{color:"yellow"}}):t>=60?Object(f.jsx)(y.a,{icon:x.b,style:{color:"lightblue"}}):Object(f.jsx)(y.a,{icon:x.e,style:{color:"blue"}})}},{key:"render",value:function(){return Object(f.jsx)("div",{children:this.getEmoji(this.props.score)})}}]),a}(s.Component),Y=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).state={topTracks:null},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({topTracks:this.loadData().responseJSON})}},{key:"componentDidUpdate",value:function(t){t.term!==this.props.term&&this.setState({topTracks:this.loadData().responseJSON})}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/tracks?time_range="+this.props.term+"&limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"displayTopNineTracks",value:function(){return this.state.topTracks?this.state.topTracks.items.slice(0,9).map((function(t,e){return Object(f.jsx)(A.a,{style:{padding:0},children:Object(f.jsxs)("div",{className:"containerTrack",children:[Object(f.jsx)("img",{className:"imageTrack",src:t.album.images[0].url,alt:t.name}),Object(f.jsxs)("div",{className:"overlayTrack",children:[e+1,". ",t.name," ",Object(f.jsx)(U,{score:t.popularity}),Object(f.jsx)("div",{style:{fontSize:"xx-small"},children:t.album.artists[0].name})]})]})},t.id)})):null}},{key:"displayRestTracks",value:function(){return this.state.topTracks?this.state.topTracks.items.slice(9,50).map((function(t,e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:e+10}),Object(f.jsx)("td",{children:Object(f.jsx)("img",{className:"imageTrack",src:t.album.images[2].url,alt:t.name,style:{maxHeight:"2em",maxWidth:"2em"}})}),Object(f.jsxs)("td",{children:[t.name,Object(f.jsx)("div",{style:{fontSize:"xx-small"},children:t.album.artists[0].name})]}),Object(f.jsx)("td",{children:Object(f.jsx)(U,{score:t.popularity})})]},t.id)})):null}},{key:"displayTable",value:function(){return this.state.topTracks?this.state.topTracks.items.slice(9,50)!==[]?Object(f.jsx)(k.a,{style:{marginBottom:"3em",marginTop:"3em"},children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{style:{minWidth:"57px"}}),Object(f.jsx)("th",{children:"Track"}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:this.displayRestTracks()})]})}):void 0:null}},{key:"render",value:function(){return this.state.topTracks?Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{md:"3",xs:"3",children:this.displayTopNineTracks()}),this.displayTable()]}):Object(f.jsx)(P.a,{children:"Loading..."})}}]),a}(s.Component),W=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),(t=e.call(this)).state={term:"short_term"},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{style:{marginBottom:"2em",marginTop:"2em"},children:Object(f.jsx)(A.a,{children:Object(f.jsxs)(z.a,{style:{width:"100%"},children:[Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"short_term"})},children:"Last Month"}),Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"medium_term"})},children:"Last 6 Months"}),Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"long_term"})},children:"All Time"})]})})}),Object(f.jsx)(Y,{term:this.state.term})]})}}]),a}(s.Component),H=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).state={topArtists:null},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({topArtists:this.loadData().responseJSON})}},{key:"componentDidUpdate",value:function(t){t.term!==this.props.term&&this.setState({topArtists:this.loadData().responseJSON})}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/artists?time_range="+this.props.term+"&limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"displayTopNineArtists",value:function(){return this.state.topArtists?this.state.topArtists.items.slice(0,9).map((function(t,e){return Object(f.jsx)(A.a,{style:{padding:0},children:Object(f.jsxs)("div",{className:"containerTrack",children:[Object(f.jsx)("img",{className:"imageTrack",src:t.images[0].url,alt:t.name,style:{aspectRatio:"1"}}),Object(f.jsxs)("div",{className:"overlayTrack",children:[e+1,". ",t.name," ",Object(f.jsx)(U,{score:t.popularity})]})]})},t.id)})):null}},{key:"displayRestArtists",value:function(){return this.state.topArtists?this.state.topArtists.items.slice(9,50).map((function(t,e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:e+10}),Object(f.jsx)("td",{children:Object(f.jsx)("img",{className:"imageTrack",src:t.images[2].url,alt:t.name,style:{maxHeight:"2em",maxWidth:"2em"}})}),Object(f.jsx)("td",{children:t.name}),Object(f.jsx)("td",{children:Object(f.jsx)(U,{score:t.popularity})})]},t.id)})):null}},{key:"displayTable",value:function(){return this.state.topArtists?this.state.topArtists.items.slice(9,50)!==[]?Object(f.jsx)(k.a,{style:{marginBottom:"3em",marginTop:"3em"},children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"#"}),Object(f.jsx)("th",{style:{minWidth:"57px"}}),Object(f.jsx)("th",{children:"Artist"}),Object(f.jsx)("th",{})]})}),Object(f.jsx)("tbody",{children:this.displayRestArtists()})]})}):void 0:null}},{key:"render",value:function(){return this.state.topArtists?Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)(R,{data:this.state.topArtists.items,limit:20})}),Object(f.jsx)(k.a,{style:{marginBottom:"3em",marginTop:"2em"},md:"3",xs:"3",children:this.displayTopNineArtists()}),this.displayTable()]}):Object(f.jsx)(P.a,{children:"Loading..."})}}]),a}(s.Component),K=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(j.a)(this,a),(t=e.call(this)).state={term:"short_term"},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{style:{marginBottom:"2em",marginTop:"2em"},children:Object(f.jsx)(A.a,{children:Object(f.jsxs)(z.a,{style:{width:"100%"},children:[Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"short_term"})},children:"Last Month"}),Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"medium_term"})},children:"Last 6 Months"}),Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"long_term"})},children:"All Time"})]})})}),Object(f.jsx)(H,{term:this.state.term})]})}}]),a}(s.Component),q=a(33),F=a.n(q),Q=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).state={recentTracks:null},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({recentTracks:this.loadData().responseJSON})}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/player/recently-played?limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"displayRecentTracks",value:function(){return this.state.recentTracks?this.state.recentTracks.items.map((function(t,e){return Object(f.jsx)(A.a,{style:{padding:0},children:Object(f.jsxs)("div",{className:"containerTrack",children:[Object(f.jsx)("img",{className:"imageTrack",src:t.track.album.images[0].url,alt:t.track.name}),Object(f.jsxs)("div",{className:"overlayTrack",children:[e+1,". ",t.track.name," ",Object(f.jsx)(U,{score:t.track.popularity}),Object(f.jsx)("div",{style:{fontSize:"xx-small"},children:t.track.album.artists[0].name}),Object(f.jsx)("div",{style:{fontSize:"xx-small"},children:Object(f.jsx)(F.a,{format:"YYYY/MM/DD hh:mm",children:t.played_at})})]})]})},e)})):null}},{key:"render",value:function(){return this.state.recentTracks?Object(f.jsx)(d.a,{children:Object(f.jsx)(k.a,{md:"3",xs:"3",children:this.displayRecentTracks()})}):Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),V=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(f.jsx)(d.a,{style:{marginBottom:"2em",marginTop:"2em"},children:Object(f.jsx)(Q,{})})}}]),a}(s.Component),X=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"getTracks",value:function(){return B.a.orderBy(this.props.data,(function(t){return t.popularity}),"desc").slice(0,this.props.limit).map((function(t){var e;return Object(f.jsxs)(A.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("a",{className:"track-img",href:t.external_urls.spotify,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("img",{className:"track-img",src:null===(e=t.album.images[0])||void 0===e?void 0:e.url,alt:t.name})})}),Object(f.jsxs)(k.a,{children:[Object(f.jsxs)(A.a,{xs:"10",style:{paddingRight:0,paddingLeft:0},children:[Object(f.jsx)(k.a,{style:{overflow:"hidden"},children:Object(f.jsx)("div",{className:"bg-track",children:t.name})}),Object(f.jsx)(k.a,{style:{overflow:"hidden"},children:Object(f.jsx)("div",{className:"bg-track",children:t.album.artists[0].name})})]}),Object(f.jsx)(A.a,{xs:"2",style:{paddingRight:0,paddingLeft:0,float:"right"},children:Object(f.jsx)(U,{score:t.popularity})})]})]},t.id)}))}},{key:"render",value:function(){return this.props.data?this.getTracks():Object(f.jsx)("h1",{children:"..."})}}]),a}(s.Component),Z=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).state={recommendations:null,topTracks:null,topArtists:null,artists:[],tracks:[],genres:[]},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({topTracks:this.loadTrackData().responseJSON.items.slice(0,20)}),this.setState({topArtists:this.loadArtistData().responseJSON.items.slice(0,20)})}},{key:"componentDidUpdate",value:function(t){t.term!==this.props.term&&(this.setState({topTracks:this.loadTrackData().responseJSON.items.slice(0,20)}),this.setState({topArtists:this.loadArtistData().responseJSON.items.slice(0,20)}))}},{key:"loadArtistData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/artists?time_range="+this.props.term+"&limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"loadTrackData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/me/top/tracks?time_range="+this.props.term+"&limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"artistsMultiSelectList",value:function(){var t=this;return this.state.topArtists.map((function(e){return Object(f.jsxs)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.addArtist(e)},children:[e.name," ",Object(f.jsx)("div",{style:{float:"right"},children:Object(f.jsx)(U,{score:e.popularity})})]},e.id)}))}},{key:"artistsSelected",value:function(){var t=this;if(this.state.artists.length>0)return this.state.artists.map((function(e){return Object(f.jsxs)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.addArtist(e)},children:[e.name," ",Object(f.jsx)(y.a,{icon:x.a})]},e.id)}))}},{key:"addArtist",value:function(t){var e=this.state.artists;e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.setState({artists:e})}},{key:"tracksMultiSelectList",value:function(){var t=this;return this.state.topTracks.map((function(e){return Object(f.jsxs)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.addTrack(e)},children:[e.name," ",Object(f.jsx)("div",{style:{float:"right"},children:Object(f.jsx)(U,{score:e.popularity})})]},e.id)}))}},{key:"tracksSelected",value:function(){var t=this;if(this.state.tracks.length>0)return this.state.tracks.map((function(e){return Object(f.jsxs)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.addTrack(e)},children:[e.name," ",Object(f.jsx)(y.a,{icon:x.a})]},e.id)}))}},{key:"addTrack",value:function(t){var e=this.state.tracks;e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.setState({tracks:e})}},{key:"genresMultiSelectList",value:function(){var t=this,e=[];return B.a.forEach(this.state.topArtists,(function(t){B.a.forEach(t.genres,(function(t){var a=B.a.filter(e,(function(e){return e[0]===t}));if(0===a.length)e.push([t,1]);else{var s=B.a.indexOf(e,a[0]);e[s][1]=e[s][1]+1}}))})),(e=(e=B.a.orderBy(e,(function(t){return t[1]}),"desc")).splice(0,20)).map((function(e){return Object(f.jsx)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.addGenre(e[0])},children:e[0]},e[0])}))}},{key:"genresSelected",value:function(){var t=this;if(this.state.genres.length>0)return this.state.genres.map((function(e){return Object(f.jsxs)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.addGenre(e)},children:[e," ",Object(f.jsx)(y.a,{icon:x.a})]},e)}))}},{key:"addGenre",value:function(t){var e=this.state.genres;e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.setState({genres:e})}},{key:"recommendations",value:function(){var t,e=[];B.a.forEach(this.state.artists,(function(t){e.push(t.id)}));var a=[];B.a.forEach(this.state.tracks,(function(t){a.push(t.id)}));var s=null;S.a.ajax({url:"https://api.spotify.com/v1/recommendations?seed_artists="+e.join(",")+"&seed_tracks="+a.join(",")+"&seed_genre="+this.state.genres.join(",")+"&limit=100",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},success:function(t){s=t},error:function(t){console.log(t)}}),this.setState({recommendations:null===(t=s)||void 0===t?void 0:t.tracks})}},{key:"render",value:function(){var t=this;return this.state.topArtists&&this.state.topTracks?Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{style:{marginBottom:".5em",marginTop:".5em"},children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("div",{style:{fontSize:"x-small"},children:"Select a combination of 5 entities"}),Object(f.jsx)("br",{}),"ARTISTS"]})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em"},children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:this.artistsSelected()})}),Object(f.jsx)(k.a,{children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:this.artistsMultiSelectList()})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em",marginTop:"1.5em"},children:Object(f.jsx)("h3",{children:"TRACKS"})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em"},children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:this.tracksSelected()})}),Object(f.jsx)(k.a,{children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:this.tracksMultiSelectList()})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em",marginTop:"1.5em"},children:Object(f.jsx)("h3",{children:"GENRES"})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em"},children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:this.genresSelected()})}),Object(f.jsx)(k.a,{style:{marginBottom:"1.5em"},children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:this.genresMultiSelectList()})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em"},children:Object(f.jsx)(z.a,{className:"recommend-button-group",children:Object(f.jsx)(J.a,{className:"recommend-buttons",outline:!0,color:"primary",onClick:function(){return t.recommendations()},children:"RECOMMED"},"recommed")})}),Object(f.jsx)(k.a,{style:{marginBottom:".5em",marginTop:"1.5em"},children:Object(f.jsx)("h3",{children:"RESULTS"})}),Object(f.jsx)(k.a,{md:"6",xs:"2",style:{marginBottom:".5em"},children:Object(f.jsx)(X,{data:this.state.recommendations,limit:18})})]}):Object(f.jsx)("div",{children:"Loading..."})}}]),a}(s.Component),$=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).state={term:"short_term"},s}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return Object(f.jsxs)(d.a,{children:[Object(f.jsx)(k.a,{style:{marginBottom:"2em",marginTop:"2em"},children:Object(f.jsx)(A.a,{children:Object(f.jsxs)(z.a,{style:{width:"100%"},children:[Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"short_term"})},children:"Last Month"}),Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"medium_term"})},children:"Last 6 Months"}),Object(f.jsx)(J.a,{outline:!0,color:"primary",onClick:function(){return t.setState({term:"long_term"})},children:"All Time"})]})})}),Object(f.jsx)(Z,{term:this.state.term})]})}}]),a}(s.Component),tt=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"getArtists",value:function(){return B.a.orderBy(this.props.data,(function(t){return t.popularity}),"desc").slice(0,this.props.limit).map((function(t){var e;return Object(f.jsxs)(A.a,{children:[Object(f.jsx)(k.a,{children:Object(f.jsx)("a",{className:"circle-artist",href:t.external_urls.spotify,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("img",{className:"circle-artist",src:null===(e=t.images[0])||void 0===e?void 0:e.url,alt:t.name,style:{aspectRatio:"1"}})})}),Object(f.jsx)(k.a,{className:"justify-content-center",style:{overflow:"hidden"},children:Object(f.jsx)(O.a,{children:Object(f.jsx)("div",{className:"bg-artist",children:Object(f.jsx)("h6",{children:t.name})})})})]},t.id)}))}},{key:"render",value:function(){return this.props.data?this.getArtists():Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),et=function(t){Object(h.a)(a,t);var e=Object(m.a)(a);function a(t){var s;return Object(j.a)(this,a),(s=e.call(this,t)).state={genre:t.location.search.replace("?genre=","").replace("%20"," "),genreData:null},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({genreData:this.loadData().responseJSON})}},{key:"componentDidUpdate",value:function(t){t.location.search!==this.props.location.search&&(this.setState({genre:this.props.location.search.replace("?genre=","").replace("%20"," ")}),this.setState({genreData:this.loadData().responseJSON}))}},{key:"loadData",value:function(){return S.a.ajax({url:"https://api.spotify.com/v1/search?q="+this.props.location.search.replace("?genre=","").replace("%20"," ")+"&type=track%2Cartist&limit=50",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+D.a.get("spotifyAuthToken")},error:function(t){console.log(t)}})}},{key:"render",value:function(){return this.state.genreData?Object(f.jsxs)("div",{children:[Object(f.jsx)(k.a,{style:{marginBottom:"1.5em",marginTop:"1.5em"},children:Object(f.jsx)(O.a,{children:Object(f.jsx)("h1",{children:B.a.toUpper(this.state.genre)})})}),Object(f.jsx)("hr",{}),Object(f.jsx)(k.a,{style:{marginBottom:"1.5em",marginTop:"1.5em"},children:Object(f.jsx)(O.a,{children:Object(f.jsx)("h3",{children:"ARTISTS"})})}),Object(f.jsx)(k.a,{md:"6",xs:"2",children:Object(f.jsx)(tt,{data:this.state.genreData.artists.items,limit:12})}),Object(f.jsx)(k.a,{style:{marginBottom:"1.5em",marginTop:"1.5em"},children:Object(f.jsx)(O.a,{children:Object(f.jsx)("h3",{children:"TRACKS"})})}),Object(f.jsx)(k.a,{md:"6",xs:"2",children:Object(f.jsx)(X,{data:this.state.genreData.tracks.items,limit:24})}),Object(f.jsx)(k.a,{style:{marginBottom:"1.5em",marginTop:"1.5em"},children:Object(f.jsx)(O.a,{children:Object(f.jsx)("h3",{children:"SIMILAR GENRES"})})}),Object(f.jsx)(R,{data:this.state.genreData.artists.items,limit:100})]}):Object(f.jsx)("h1",{children:"Loading..."})}}]),a}(s.Component),at=a(34),st=(a(47),a(48),function(){var t=r.a.useState(D.a.get("spotifyAuthToken")),e=Object(o.a)(t,2),a=e[0],s=e[1],n=!0;return S.a.ajax({url:"https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=1",async:!1,contentType:"application/json; charset=utf-8",type:"GET",headers:{Authorization:"Bearer "+a},error:function(t){n=!1}}),Object(f.jsx)("div",{className:"app",children:n?Object(f.jsxs)(v,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/",component:w}),Object(f.jsx)(l.a,{exact:!0,path:"/TopTracks",component:W}),Object(f.jsx)(l.a,{exact:!0,path:"/TopArtists",component:K}),Object(f.jsx)(l.a,{exact:!0,path:"/RecentlyPlayed",component:V}),Object(f.jsx)(l.a,{exact:!0,path:"/Genre",component:et}),Object(f.jsx)(l.a,{exact:!0,path:"/Recommendation",component:$})]}):Object(f.jsx)(v,{children:Object(f.jsx)(d.a,{children:Object(f.jsx)(k.a,{className:"justify-content-center",style:{marginTop:"3em"},children:Object(f.jsx)(at.a,{redirectUri:document.location.origin+document.location.pathname,clientID:"e8f25d7d2c6b4458b7509bd675e27043",scopes:["user-modify-playback-state","user-follow-modify","user-read-recently-played","user-read-playback-state","user-top-read","playlist-modify-public","user-library-modify","user-follow-read","user-read-currently-playing","user-library-read","playlist-read-private","user-read-private","playlist-modify-private"],onAccessToken:function(t){return s(t)}})})})})})}),rt=document.getElementById("root");i.a.render(Object(f.jsx)(c.a,{basename:"/Diversify",children:Object(f.jsx)(st,{})}),rt)}},[[49,1,2]]]);
//# sourceMappingURL=main.aeca450f.chunk.js.map